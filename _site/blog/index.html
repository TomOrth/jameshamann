<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="stylesheet" type="text/css" href="/assets/css/materialize.css"> <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/df6431e323547add1b4cf45992913f15286456d3/devicon.min.css"> <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> </head> <body> <h2 style="text-align:center"> Latest Blog Posts </h2> <p style="text-align:center;"><a class="waves-effect waves-light btn green darken-2" target="_blank" href="https://medium.com/@jameshamann/"><i class="material-icons right">library_books</i>Read more at Medium</a></p> <div class="fixed-action-btn horizontal"> <a class="btn-floating btn-large waves-effect waves-default pulse" href="/"> <i class="material-icons">arrow_back</i> </a> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Creating a Google Chrome Extension</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*ANLjz9D0Y0k6sXHKWROYjw.png"></figure></p> <p>I recently created a simple Chrome Extension (<a href="https://chrome.google.com/webstore/detail/crypcheck/lafbodcgahbokcblephohaafmmnnffhp">CrypCheck</a>) that displays the current, live, price of some of the popular Crypto Currencies. After going through the process, it‚Äôs a lot quicker and easier than you think to write, test and publish your own Chrome Extension.</p> <p>Firstly, setup a working directory and push it up to Github (or whatever else you¬†use).</p> <pre><strong>#bash</strong></pre> <pre>$ mkdir my_awesome_chrome_extension<br>$ cd my_awesome_chrome_extension<br>$ git init<br>$ echo "#my_awesome_chrome_extension" &gt;&gt; README.md<br>$ git add .<br>$ git commit -m 'first commit, setting up project'<br>$ git remote add origin yourremote.git<br>$ git push origin master</pre> <p>Next, we‚Äôre gonna want to download the starter files that Google provide in their docs. Click here and go to the <strong>Resources </strong>heading. You should end up with four files downloaded, <strong>manifest.json, popup.html, popup.js </strong>and <strong>icon.png</strong> (this is optional and can be replaced with any icon of your¬†choice).</p> <p>Now we‚Äôre going to want to load the extension in so we can test it locally. Navigate to the URL <strong>chrome://extensions/. </strong>From here, you should see a button at the top labelled <strong>Load unpacked extension. </strong>After clicking it, navigate to the working directory of your plugin and select it. This loads the Plug-In into your browser from the directory. You should be able to play with the sample app now, which allows you to change colours. Now you‚Äôre ready to build and test your¬†app!</p> <p>Remember, if you require any third party libraries like jQuery, you‚Äôre going to need to load them in. Also, make sure to edit the <strong>manifest.json</strong> to reflect details of your own app, as opposed to the sample app. This is an example of what my <strong>manifest.json </strong>looks¬†like.</p> <pre><strong>#json</strong></pre> <pre>{<br>  "manifest_version": 2,</pre> <pre>"name": "CrypCheck",<br>  "description": "This extension allows the user to check the price of Bitcoin, Bitcoin Cash, Ethereum, Litecoin, Ripple and IOTA.",<br>  "version": "2.0",</pre> <pre>"browser_action": {<br>    "default_icon": "icon.png",<br>    "default_popup": "popup.html"<br>  },<br>  "permissions": [<br>    "activeTab",<br>    "storage"<br>  ]<br>}</pre> <p>Depending on the complexity of your project, you might also want to setup a structure to it. Especially if you find yourself loading in fonts, libraies and anything else, below is the folder structure of my¬†app.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/598/1*GR_HwJJaiqgUs-wl5_V1ww.png"></figure><p>One thing to note, regarding the <strong>icon.png </strong>size, is that Google requires the size to be 128x128 pixels. You can also provide additional sizes of 48x48 and¬†16x16.</p> <h4>Publishing your extension</h4> <p>After completing your extension and making sure it works, you‚Äôre gonna want to share it with the world. Head over to <a href="https://chrome.google.com/webstore/developer/dashboard">Chrome‚Äôs Web Dashboard</a> and Login with your Google Account. Once the page loads, hit the <strong>Add new Item </strong>button. This will prompt you to upload a zip of your project, which can be done by running the following command.</p> <pre><strong>#bash</strong></pre> <pre>$ zip -r my_awesome_chrome_extension_v1.zip my_awesome_chrome_extension</pre> <p>Once the zip file uploads you can edit the details before publishing. This includes where you want to distribute the app, the category you want it to appear in and all the other details regarding it‚Äôs publication.</p> <p>Once you‚Äôre finished tweaking hit <strong>Publish Changes. </strong>Congrats! You‚Äôve published a Chrome Extension! Make sure to delete the one in your browser and re-download it from the Web Store, so you‚Äôre running the production version.</p> <p>If you‚Äôre interested, you can take a look at my <a href="https://github.com/jameshamann/crypto-price-check">app‚Äôs repo</a> as an¬†example.</p> <p>As always, thanks for reading, hit üëè if you like what you read and be sure to follow to keep up to date with future¬†posts.</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=877fad2db6a6" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>React with CircleCI, AWS S3 and AWS CloudFront</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*DzywrjTJa-1S727h-toZbw.png"></figure></p> <p>Today we‚Äôre going to be whipping up a simple React Project with a build pipeline that deploys to an S3 bucket, which is distributed through CloudFront. The benefits of deploying your React App this way are that you can automate your build and deployment tasks and by distributing your app across CloudFront you‚Äôll be able to provision a free SSL certificate on it, which is¬†great!</p> <h4>Prerequisites</h4> <ul> <li><a href="https://github.com">Github Account</a></li> <li><a href="https://aws.amazon.com">AWS Account</a></li> <li><a href="http://docs.aws.amazon.com/cli/latest/userguide/installing.html">AWS CLI</a></li> <li><a href="https://circleci.com">CircleCI Account</a></li> <li>Basic Knowledge of React, Git and the Command¬†Line</li> </ul> <h4>Getting Started</h4> <p>First of all, let‚Äôs scaffold an app using <strong>create-react-app.</strong></p> <pre>#<strong>bash </strong></pre> <pre>$ create-react-app myawesomeapp</pre> <pre>[...]</pre> <pre>Success! Created myawesomapp at /your/path/myawesomapp<br>Inside that directory, you can run several commands:</pre> <pre>yarn start<br>    Starts the development server.</pre> <pre>yarn build<br>    Bundles the app into static files for production.</pre> <pre>yarn test<br>    Starts the test runner.</pre> <pre>yarn eject<br>    Removes this tool and copies build dependencies, configuration files<br>    and scripts into the app directory. If you do this, you can‚Äôt go back!</pre> <pre>We suggest that you begin by typing:</pre> <pre>cd myawesomapp<br>  yarn start</pre> <pre>Happy hacking!</pre> <p>Now, setup your repo on Github and push your code¬†up.</p> <pre>#<strong>bash</strong> </pre> <pre>$ git add .<br>$ git commit -m 'first commit, scaffolds project with create-react-app'<br>$ git remote add origin <a href="https://yourrepo">https://yourrepo</a><br>$ git push -u origin master</pre> <p>Now you should have your initial project up on Github. From here we‚Äôll checkout feature branches and merge them in as we complete them. You can use a project management tool like <a href="https://waffle.io">Waffle</a> or <a href="https://trello.com">Trello</a> if you like, it helps keep track of what needs to be done. Depending on the complexity of your project, you could also checkout a staging branch and merge your features into that, bit by bit, but for the purposes of this we‚Äôll stick with merging into master. The process is identical though, it‚Äôll just require a bit more configuration.</p> <pre>$ git checkout -b 1-setting-up-build-pipeline<br>$ git push origin 1-setting-up-build-pipeline</pre> <h4>Setting up¬†AWS</h4> <p>Head over to AWS and go to the S3 dashboard. Here we‚Äôll create a bucket and set it‚Äôs permissions to¬†<strong>public.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*6yZDmRUQu6hImt0DdUbcCQ.png"><figcaption>s3 dashboard</figcaption></figure><p>Click <strong>Create bucket </strong>and call your bucket something useful, like the name of your app or the domain it‚Äôll live on, if you‚Äôve bought one. I called mine <strong>myawesomeapp.com. </strong>Now we‚Äôll quickly configure the permissions of the bucket and set it to <strong>public</strong> so that it can be accessed and viewed on a browser, by the general public. Click the <strong>Permissions </strong>tab and then the <strong>Bucket Policy</strong> button, this will bring up an¬†editor.</p> <p>AWS uses JSON policy files to manage permissions of buckets and other services, the example below allows the public to <strong>Read</strong> the contents of the S3¬†bucket.</p> <pre><strong>#JSON</strong></pre> <pre>{<br>    "Version": "2012-10-17",<br>    "Statement": [<br>        {<br>            "Sid": "AddPerm",<br>            "Effect": "Allow",<br>            "Principal": "*",<br>            "Action": "s3:GetObject",<br>            "Resource": "arn:aws:s3:::myawesomeapp.com/*"<br>        }<br>    ]<br>}</pre> <p>You might be tempted to change the date, <strong>but don‚Äôt</strong>. It‚Äôs taken from their <a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html">docs</a> and is linked to a particular version, changing it may break/alter your permissions.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*3McynE2yYkmkiihfBRKlqQ.png"><figcaption>Bucket Policy</figcaption></figure><p>Lastly, you‚Äôll need to configure your S3 bucket to host static sites‚Ää‚Äî‚Ääthis is literally just clicking a few¬†buttons.</p> <p>Head over to the <strong>Properties </strong>tab and click the <strong>Static Website Hosting</strong> card. You‚Äôll need to input the entry page, which in our case will be <strong>index.html</strong>, you can also create an error page, but we‚Äôll leave that blank for now. Hit <strong>Save</strong> and we‚Äôre ready to¬†go!</p> <p>Using AWS CLI, we‚Äôre gonna sync our project with our bucket. Make sure you‚Äôve got your Access Keys setup, if not just type <strong>aws configure</strong> in your shell and enter them there. These can be found/generated in <strong>My Security Credentials.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/572/1*_-UciD-POyZG00v7Eao8pQ.png"></figure><p>Before syncing, we‚Äôll need to build our project for production. We‚Äôll then sync the contents of the <strong>build </strong>folder with our S3 bucket and BAM we‚Äôre¬†live.</p> <pre>#<strong>bash</strong></pre> <pre>$ yarn build<br>yarn run v1.3.2</pre> <pre>$ react-scripts build<br>Creating an optimized production build...<br>Compiled successfully.</pre> <pre>File sizes after gzip:</pre> <pre>35.65 KB  build/static/js/main.35d639b7.js<br>  299 B     build/static/css/main.c17080f1.css</pre> <pre>The project was built assuming it is hosted at the server root.<br>To override this, specify the homepage in your package.json.<br>For example, add this to build it for GitHub Pages:</pre> <pre>"homepage" : "<a href="http://myname.github.io/myapp">http://myname.github.io/myapp</a>",</pre> <pre>The build folder is ready to be deployed.<br>You may serve it with a static server:</pre> <pre>yarn global add serve<br>  serve -s build</pre> <pre>‚ú®  Done in 7.49s.</pre> <pre>$ aws s3 sync build/ s3://myawesomeapp.com --delete</pre> <pre>upload: build/service-worker.js to s3://myawesomeapp.com/service-worker.js<br>upload: build/manifest.json to s3://myawesomeapp.com/manifest.json<br>upload: build/favicon.ico to s3://myawesomeapp.com/favicon.ico<br>upload: build/index.html to s3://myawesomeapp.com/index.html<br>upload: build/static/css/main.c17080f1.css.map to s3://myawesomeapp.com/static/css/main.c17080f1.css.map<br>upload: build/asset-manifest.json to s3://myawesomeapp.com/asset-manifest.json<br>upload: build/static/media/logo.5d5d9eef.svg to s3://myawesomeapp.com/static/media/logo.5d5d9eef.svg<br>upload: build/static/css/main.c17080f1.css to s3://myawesomeapp.com/static/css/main.c17080f1.css<br>upload: build/static/js/main.35d639b7.js to s3://myawesomeapp.com/static/js/main.35d639b7.js<br>upload: build/static/js/main.35d639b7.js.map to s3://myawesomeapp.com/static/js/main.35d639b7.js.map</pre> <p>Now head back to your S3 bucket, under the <strong>Static Website Hosting </strong>card and click the <strong>Endpoint </strong>URL. If all is good, you‚Äôll see the React Welcome¬†Page.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Wv6Dpt5fW_a0FsWPAUx1mw.png"></figure><p>Your app‚Äôs now on S3! We can somewhat automate this further by combining the commands. Add the following to your <strong>package.json</strong> under the <strong>scripts¬†</strong>section.</p> <pre>#JSON</pre> <pre>{<br>  "name": "myawesomapp",<br>  "version": "0.1.0",<br>  "private": true,<br>  "dependencies": {<br>    "react": "^16.2.0",<br>    "react-dom": "^16.2.0",<br>    "react-scripts": "1.0.17"<br>  },<br>  "scripts": {<br>    "start": "react-scripts start",<br>    "build": "react-scripts build",<br>    "test": "react-scripts test --env=jsdom",<br>    "eject": "react-scripts eject",<br><strong>    "deploy": "yarn build &amp;&amp; aws s3 sync build/ s3://myawesomeapp.com --delete"</strong><br>  }<br>}</pre> <p>This runs <strong>yarn build </strong>and syncs the contents of your <strong>build/ </strong>folder with your S3¬†bucket.</p> <h4>CircleCI Setup</h4> <p>Firstly, add your project by clicking <strong>Setup Project </strong>on the CircleCI Dashboard.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*YpJQR7ZHFgEw9J8DCjTgSA.png"></figure><p>Next you‚Äôll want to make sure you have <strong>CircleCI 2.0 </strong>as opposed to 1.0, which is a bit older. As we‚Äôre creating a React Project, we want our container to be Preconfigured with¬†<strong>Node.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*cQLc_HVkG4VOLvep7qR79Q.png"></figure><p>Follow the instructions laid out on the CircleCI Dashboard. Your <strong>config.yml </strong>file inside your¬†<strong>.circleci </strong>folder, should look something like¬†this.</p> <pre>#<strong>yaml </strong></pre> <pre># Javascript Node CircleCI 2.0 configuration file<br>#<br># Check <a href="https://circleci.com/docs/2.0/language-javascript/">https://circleci.com/docs/2.0/language-javascript/</a> for more details<br>#<br>version: 2<br>jobs:<br>  build:<br>    docker:<br>      # specify the version you desire here<br>      - image: circleci/node:7.10</pre> <pre># Specify service dependencies here if necessary<br>      # CircleCI maintains a library of pre-built images<br>      # documented at <a href="https://circleci.com/docs/2.0/circleci-images/">https://circleci.com/docs/2.0/circleci-images/</a><br>      # - image: circleci/mongo:3.4.4</pre> <pre>working_directory: ~/repo</pre> <pre>steps:<br>      - checkout</pre> <pre># Download and cache dependencies<br>      - restore_cache:<br>          keys:<br>          - v1-dependencies-{{ checksum "package.json" }}<br>          # fallback to using the latest cache if no exact match is found<br>          - v1-dependencies-</pre> <pre>- run: yarn install</pre> <pre>- save_cache:<br>          paths:<br>            - node_modules<br>          key: v1-dependencies-{{ checksum "package.json" }}</pre> <pre># run tests!<br>      - run: yarn test<br>      - run: sudo apt-get update &amp;&amp; sudo apt-get install -y python-dev<br>      - run: sudo curl -O <a href="https://bootstrap.pypa.io/get-pip.py">https://bootstrap.pypa.io/get-pip.py</a><br>      - run: sudo python get-pip.py<br>      - run: sudo pip install awscli --upgrade<br>      - run: aws --version<br>      - run: aws s3 ls<br>      - run: yarn run deploy</pre> <p>You‚Äôll notice we‚Äôve added a few extra things. We<strong> </strong>install python and download AWS CLI. After that we check installed by checking the version and list our S3¬†Buckets.</p> <p>Once this is done, head back to the CircleCI dashboard and hit <strong>Start Building. </strong>From here you can navigate to your Project Settings and save your <strong>AWS_ACCESS_KEY_ID </strong>and your <strong>AWS_SECRET_ACCESS_KEY</strong>.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*3O6sT23QOhTtFYQRXF1Kkg.png"></figure><p>Once this is done, push your changes up to github and open a pull request. On the first Pull Request CircleCI won‚Äôt register, so just hit¬†merge.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*nMbRQCyZrY97Pp1m4eowGw.png"></figure><p>You‚Äôre pretty much set¬†now!</p> <p>Checkout another branch for your next feature and once your ready to open a pull-request you‚Äôll notice CircleCI will run your tests and if all passes and you merge, it‚Äôll¬†deploy!</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*gEOuegBScam8dW9k0s2xjA.png"></figure><p>Congrats! You‚Äôve setup a React App with a build pipeline, hosted on¬†AWS!</p> <h4>Deploying your App Through AWS CloudFront</h4> <p>Now you‚Äôve got a build pipeline setup and synced to deploy with your AWS Bucket, which is great. But it‚Äôd be even better if you distributed that across a CDN and slapped a SSL certificate on it. Enter CloudFront‚Ä¶</p> <p>Navigate to CloudFront‚Äôs dashboard and hit <strong>Create Distribution.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*FLpxg0PniEPl8yZsPzYmKg.png"></figure><p>You‚Äôll then be given two options, as we‚Äôre creating a Web App, you‚Äôll need to select¬†<strong>Web</strong>.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*NZDSWTzbxUMUzP7ZV9xEtw.png"></figure><p>On the next screen, in the <strong>Origin Domain Name</strong> field, you‚Äôll get a dropdown list. Choose the name of your <strong>S3 </strong>bucket. You‚Äôll also want to change the <strong>Viewer Protocol Policy </strong>to <strong>Redirect HTTP to HTTPS. </strong>Lastly you‚Äôll need to set the <strong>Default Root Object </strong>to <strong>index.html</strong> as that‚Äôs the entry page to our¬†app.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*2IUblcnhcdI8dnofm1aFeA.png"></figure><p>Once you‚Äôre done hit <strong>Create Distribution. </strong>This will take a short while to deploy, but once it‚Äôs complete head over to the Distribution URL and you should see your app, as well as an SSL certificate.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*MxA6JwpLfc8zpwZF9ztCog.png"></figure><p>You‚Äôre done! If you own your own domain, and it‚Äôs hosted in AWS Route 53, you can create an Alias record to point to the Distribution URL.</p> <p>If you have any questions, or need a hand with anything, drop a comment and I‚Äôd be happy to help! <a href="https://github.com/jameshamann/myawesomeapp">Here‚Äôs a link to the example¬†repo.</a></p> <p>As always, thanks for reading, hit üëè if you like what you read and be sure to follow to keep up to date with future¬†posts.</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=844a1b2c75c9" width="1" height="1"><hr> <p><a href="https://blog.cloudboost.io/react-with-circleci-aws-s3-and-aws-cloudfront-844a1b2c75c9">React with CircleCI, AWS S3 and AWS CloudFront</a> was originally published in <a href="https://blog.cloudboost.io">CloudBoost</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Net Neutrality</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*RjxuRN3rfg-hGYjvD75sIg.jpeg"></figure></p> <p>With America gearing up for a big vote on Net Neutrality I thought I‚Äôd do a repost, to emphasise how important it is and what it could mean for the¬†UK.</p> <p>I‚Äôve done a <a href="https://medium.com/@jameshamann/why-should-i-care-about-net-neutrality-2bf85ac98a69">previous post</a> covering this issue, but in a nutshell <strong>Net Neutrality promotes a free and open internet where all data, content and applications are treated equally, without discrimination.</strong> Essentially everything carrying on like it currently is.</p> <p>This image explains all you need to know about why Net Neutrality is important, <strong>because this is what it could turn out¬†like.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*tw7wz3sngWM0XO3vAChBuA.jpeg"><figcaption>Net Neutrality</figcaption></figure><p>An ISP could prioritise traffic however they wish and charge you for the luxury of using different applications. Whereas now you‚Äôd pay a flat fee for internet access, ISPs could impose, as the image suggests, multiple packages for different websites. It doesn‚Äôt take a genius to figure out this is negative for everyone. It‚Äôs anti-competition, anti-freedom, anti-everything. There‚Äôs no benefit, except to those right at the¬†top.</p> <h4>But this is in the US, so why should I care in the¬†UK?</h4> <p>For now, we‚Äôre protected by EU Law, which ensures an open and competitive internet market. However, with Brexit looming and all the other issues surrounding it, you might worry that this particular law isn‚Äôt translated correctly on the repeal¬†bill.</p> <p>To be fair, in the UK, we have a much more competitive broadband market, and it allows users to switch with ease. However, a lot of these providers also tend to offer a broadband and online tv deals‚Ää‚Äî‚Ääthink Sky and BT, for example. These companies have incentive to prioritise their content over Netflix, Prime or any other streaming service.</p> <p>Virgin already offer <a href="http://store.virginmedia.com/virgin-media-mobile/flexible-plans/free-whatsapp-facebook-messenger.html"><strong>data-free messaging</strong></a>, to Facebook Messenger, WhatsApp and Twitter. Whilst this sounds amazing, it‚Äôs bad for everyone in the long term. It‚Äôs anti-competition and makes it very difficult for new startups, in a similar sector, break into the market and gain a user base. Why would a user want to try out a cool new product, if the alternative is free to use. It creates an unfair playing field, which leads to a stagnant market and less innovation.</p> <p>Whilst things are better here in the UK than the US, the fact remains it‚Äôs an issue to keep in mind, especially with Brexit on the horizon. If the vote passes and the bill is repealed in the US it might pressure other countries to revisit their own Open Internet¬†laws.</p> <p>As always, thanks for reading, hit üëè if you like what you read and be sure to follow to keep up to date with future¬†posts.</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=61c6b0c4bd26" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Ethereum and Blockchain Technology</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*BxHhpHFs4UxM0Yrp4jUq0g.jpeg"></figure><figure><img alt="" src="https://cdn-images-1.medium.com/max/500/1*Wd4iif2NDQTgcGPFiYKF_w.png"></figure></p> <p>After the crazy highs of Bitcoin recently and it‚Äôs high volatility, people are getting more interested in cryptocurrencies and how they¬†work.</p> <h4>What is a Cryptocurrency?</h4> <p>Bitcoin, Ethereum, Litecoin are all examples of Cryptocurrencies, they are all <strong>decentralized.</strong> This means no central bank or body regulates, monitors or owns them. They work on a <strong>peer to peer </strong>network, meaning users directly connect to each other and make transactions through the use of cryptography‚Ää‚Äî‚Äämaking hacking or fraud virtually impossible. Once the transactions are verified by the network, they are added to a shared public ledger‚Ää‚Äî‚Ää<strong>the blockchain</strong>.</p> <h4>The Blockchain</h4> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*oMBBUce4G2mXyEhmEGAxRQ.png"><figcaption>Blockchain Diagram</figcaption></figure><p>As the digram illustrates, a transaction is requested, the network of nodes (computers) is notified, at which point it validates the transaction request. Once verified, the transaction gets added to the public ledger‚Ää‚Äî‚Ää<strong>the blockchain. </strong>Essentially the blockchain is just a giant immutable data structure, with each event/transaction/contract getting added to the end of it. If you‚Äôre curious, you can view live transactions for Bitcoin being added to the blockchain <a href="https://blockchain.info/">here</a>.</p> <h4>Types of blockchain</h4> <p>There are a few different types of blockchain.</p> <ul> <li> <strong>Public.</strong> Think Bitcoin, Litecoin, Ethereum, these are all <strong>public and fully-decentralised blockchains</strong>. It cuts out the middle man and allows you to transfer the value of something directly to the recipient, via a peer to peer connection. Every transaction is verified and then synced with every node (computer) associated with that blockchain.</li> <li> <strong>Private. </strong>As it suggests, these are completely private blockchains. Only one organisation verifies and writes to the blockchain and, in a sense, it‚Äôs the opposite of blockchain as it<strong> fully centralises the system</strong>. Whilst it doesn‚Äôt offer the same in uptime and security that Public blockchains offer, it still provides a good way for more traditional businesses who wish to keep control, to adopt the technology.</li> <li> <strong>Consortium. </strong>Essentially a hybrid between public and private blockchains.<strong> </strong>This allows a group of organisations to collectively control the blockchain, in a sense <strong>it‚Äôs partially decentralised</strong>. Each transaction is verified by the organisations and then added to the blockchain. This could be a way for central banks to collaborate together or even for organisational voting, like voting for the next Olympics¬†host.</li> </ul> <p>Blockchains are similar in theory, but their approach to tasks can be slightly different. Bitcoin looks to work as a currency, where you can transfer value directly to the recipient without any middle man (bank). Ethereum, instead, offers a much more powerful solution that allows developers to create applications utilising Blockchain technology, through <strong>Smart Contracts </strong>and <strong>Solidity.</strong></p> <h4><strong>What is a Smart Contract?</strong></h4> <p>A smart contract is a program that is executed exactly the way it is set up to by their creators. A developer could write a program and deploy it, without fear of fraud, third party interference and benefit from 100% uptime. Keeping with the Bitcoin examples, a simple smart contract transfers the value from one user to another, if the necessary conditions are met. Here, we‚Äôre limited to currency though. <strong>This is where Etherum is different. </strong>It replaces Bitcoin‚Äôs somewhat restrictive scripting language with it‚Äôs own called <strong>Solidity</strong>, allowing developers to build and deploy applications with¬†it.</p> <h4>What is Solidity?</h4> <p>Solidity is a <strong>contract-orientated, </strong>high-level language for implementing smart contracts. It was influenced by C++, Python and JavaScript and is designed to target the Ethereum Virtual Machine (EVM). It‚Äôs statically typed, meaning that the type of variable is known at compile time, as opposed to run time. This has some benefits in that type errors are picked up earlier in the development cycle and it can lead to faster programs because the compiler can produce optimised machine code if it knows the variables earlier. Having looked through some code examples, visually, it looks closest to something resembling JavaScript‚Ää‚Äî‚Ääbut it‚Äôs¬†not.</p> <h4>What can I¬†build?</h4> <p>Anything you like! The poster example apps are voting¬†, blind crowdfunding and multi-signature wallets. Ethereum is still young and obviously some of the tech is still in Beta, but there seems to be a curiosity in building these new types of applications.</p> <h4>Conclusion</h4> <p>Blockchain technology seems to be gathering pace, mainly through Bitcoin, but as organisations learn it‚Äôs benefits and the power of the technology, it could become a new way to develop applications. It seems now is a good time to start experimenting with it and seeing what real-world applications it could¬†have.</p> <p>As always, thanks for reading, hit üëè if you like what you read and be sure to follow to keep up to date with future¬†posts.</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=261d9342caf8" width="1" height="1"><hr> <p><a href="https://cryptocurrencyhub.io/ethereum-and-blockchain-technology-261d9342caf8">Ethereum and Blockchain Technology</a> was originally published in <a href="https://cryptocurrencyhub.io">Cryptocurrency Hub</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Creating your own Jekyll Theme Gem</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*lUObMZ6Qt7WmFBwxZVEhfg.jpeg"></figure></p> <p>After searching for a short while, I found I couldn‚Äôt quite find a Jekyll Theme that I liked. All the ones that I came across needed a lot of work, so I thought I‚Äôd whip up my own theme and make it a gem. It‚Äôs a lot quicker and easier than you¬†think.</p> <p><a href="http://jekyllthemes.org/themes/jekyll-material-theme/">For my theme</a>, I used <a href="http://materializecss.com/">Materialize</a>‚Ää‚Äî‚Ääa front-end framework based on<a href="https://material.io/"> Material¬†Design</a>.</p> <h4>Getting Started</h4> <p>Firstly, head over to <a href="https://rubygems.org/">RubyGems</a> and sign up for an account‚Ää‚Äî‚Ääyou‚Äôll need these credentials later when you push your gem¬†up.</p> <p>Jekyll already contains a new-theme command which scaffolds together a skeleton for you. It‚Äôll look something like¬†this.</p> <pre><strong># bash</strong></pre> <pre>$ jekyll new-theme testing123</pre> <pre>create <br>/Users/jameshamann/Documents/Development/testing123/assets</pre> <pre>create <br>/Users/jameshamann/Documents/Development/testing123/_layouts</pre> <pre>create <br>/Users/jameshamann/Documents/Development/testing123/_includes</pre> <pre>create <br>/Users/jameshamann/Documents/Development/testing123/_sass</pre> <pre>create   /Users/jameshamann/Documents/Development/testing123/_layouts/page.html</pre> <pre>create/Users/jameshamann/Documents/Development/testing123/_layouts/post.html</pre> <pre>create /Users/jameshamann/Documents/Development/testing123/_layouts/default.html</pre> <pre>create /Users/jameshamann/Documents/Development/testing123/Gemfile<br>             <br>create<br>/Users/jameshamann/Documents/Development/testing123/testing123.gemspec</pre> <pre>create /Users/jameshamann/Documents/Development/testing123/README.md</pre> <pre>create /Users/jameshamann/Documents/Development/testing123/LICENSE.txt<br> <br>initialize /Users/jameshamann/Documents/Development/testing123/.git</pre> <pre>create /Users/jameshamann/Documents/Development/testing123/.gitignore</pre> <pre>Your new Jekyll theme, testing123, is ready for you in   /Users/jameshamann/Documents/Development/testing123!</pre> <pre>For help getting started, read /Users/jameshamann/Documents/Development/testing123/README.md.</pre> <p>It provides a nice starter README, which explains the setup and what the theme includes. As well as this, the command creates a¬†<strong>.gemspec</strong> file, which contains all the information and build instructions for your¬†gem.</p> <pre><strong># ruby </strong></pre> <pre># coding: utf-8</pre> <pre>Gem::Specification.new do |spec|<br>  spec.name          = "testing123"<br>  spec.version       = "0.1.0"<br>  spec.authors       = [""]<br>  spec.email         = [""]</pre> <pre>spec.summary       = %q{TODO: Write a short summary, because Rubygems requires one.}<br>  spec.homepage      = "TODO: Put your gem's website or public repo URL here."<br>  spec.license       = "MIT"</pre> <pre>spec.files         = `git ls-files -z`.split("\x0").select { |f| f.match(%r{^(assets|_layouts|_includes|_sass|LICENSE|README)}i) }</pre> <pre>spec.add_runtime_dependency "jekyll", "~&gt; 3.6"</pre> <pre>spec.add_development_dependency "bundler", "~&gt; 1.12"<br>  spec.add_development_dependency "rake", "~&gt; 10.0"<br>end</pre> <p>When you‚Äôre done with your theme, you‚Äôll want to go in here and edit the details at the top, so once your Gem‚Äôs live, all the necessary information is available.</p> <p>The site itself functions the same as a jekyll site, so when you‚Äôre developing you can use <strong>jekyll serve </strong>to boot up your site on a server, that way you can view and test your site whilst you‚Äôre developing your¬†theme.</p> <h4>Testing your¬†Gem</h4> <p>To test your gem, let‚Äôs build it and load it on another jekyll¬†site.</p> <pre><strong># bash</strong></pre> <pre>$ gem build YOURTHEME.gemspec</pre> <p>This will generate a gem file within your directory, however it‚Äôll be hidden as it‚Äôs part of your¬†.gitignore file. Next, generate a new jekyll site, add your gem to the gemfile (specificying it‚Äôs path), bundle install, change the <strong>_config.yml </strong>to use your theme and then <strong>jekyll serve. </strong>This should serve up your new site, using your gem as it‚Äôs¬†theme.</p> <pre><strong># bash </strong></pre> <pre>$ jekyll new mysite</pre> <pre>  Bundler: Fetching gem metadata from <a href="https://rubygems.org/">https://rubygems.org/</a>...........<br>  Bundler: Fetching gem metadata from <a href="https://rubygems.org/">https://rubygems.org/</a>.<br>  Bundler: Resolving dependencies...<br>  Bundler: Using public_suffix 3.0.1<br>  Bundler: Using addressable 2.5.2<br>  Bundler: Using bundler 1.16.0.pre.3<br>  Bundler: Using colorator 1.1.0<br>  Bundler: Using ffi 1.9.18<br>  Bundler: Using forwardable-extended 2.6.0<br>  Bundler: Using rb-fsevent 0.10.2<br>  Bundler: Using rb-inotify 0.9.10<br>  Bundler: Using sass-listen 4.0.0<br>  Bundler: Using sass 3.5.3<br>  Bundler: Using jekyll-sass-converter 1.5.1<br>  Bundler: Using ruby_dep 1.5.0<br>  Bundler: Using listen 3.1.5<br>  Bundler: Using jekyll-watch 1.5.1<br>  Bundler: Using kramdown 1.16.2<br>  Bundler: Using liquid 4.0.0<br>  Bundler: Using mercenary 0.3.6<br>  Bundler: Using pathutil 0.16.0<br>  Bundler: Using rouge 2.2.1<br>  Bundler: Using safe_yaml 1.0.4<br>  Bundler: Using jekyll 3.6.2<br>  Bundler: Using jekyll-feed 0.9.2<br>  Bundler: Using minima 2.1.1<br>  Bundler: Bundle complete! 4 Gemfile dependencies, 23 gems now installed.<br>  Bundler: Use `bundle info [gemname]` to see where a bundled gem is installed.<br>New jekyll site installed in /Users/jameshamann/Documents/Development/mysite.</pre> <pre>$ cd mysite<br>$ atom .</pre> <pre><strong>--------------------------------------------------------------------</strong></pre> <pre><strong># ruby</strong></pre> <pre># <strong>Gemfile</strong></pre> <pre>gem "YOURTHEME" =&gt; :path =&gt; "path/to/your/gem"</pre> <pre><strong>-------------------------------------------------------------------<br># bash</strong></pre> <pre>$ bundle<br>Fetching gem metadata from <a href="https://rubygems.org/">https://rubygems.org/</a>...........<br>Fetching gem metadata from <a href="https://rubygems.org/">https://rubygems.org/</a>.<br>Resolving dependencies...<br>Using public_suffix 3.0.1<br>Using addressable 2.5.2<br>Using bundler 1.16.0.pre.3<br>Using colorator 1.1.0<br>Using ffi 1.9.18<br>Using forwardable-extended 2.6.0<br>Using rb-fsevent 0.10.2<br>Using rb-inotify 0.9.10<br>Using sass-listen 4.0.0<br>Using sass 3.5.3<br>Using jekyll-sass-converter 1.5.0<br>Using listen 3.0.8<br>Using jekyll-watch 1.5.0<br>Using kramdown 1.16.2<br>Using liquid 4.0.0<br>Using mercenary 0.3.6<br>Using pathutil 0.16.0<br>Using rouge 2.2.1<br>Using safe_yaml 1.0.4<br>Using jekyll 3.6.2<br>Using jekyll-feed 0.9.2<br>Using jekyll-material-theme 0.1.0 from source at `../material-theme`<br>Bundle complete! 4 Gemfile dependencies, 22 gems now installed.<br>Use `bundle info [gemname]` to see where a bundled gem is installed.</pre> <pre><strong>--------------------------------------------------------------------</strong></pre> <pre><strong># YAML</strong></pre> <pre><strong># _config.yml</strong></pre> <pre>[...]</pre> <pre><strong>theme: YOURTHEME</strong></pre> <pre>[...]</pre> <pre><strong>--------------------------------------------------------------------</strong></pre> <pre><strong># bash</strong></pre> <pre>$ jekyll serve</pre> <pre>Configuration file: /Users/jameshamann/Documents/Development/mysite1234/_config.yml<br>            Source: /Users/jameshamann/Documents/Development/mysite1234<br>       Destination: /Users/jameshamann/Documents/Development/mysite1234/_site<br> Incremental build: disabled. Enable with --incremental<br>      Generating...<br>                    done in 0.436 seconds.<br> Auto-regeneration: enabled for '/Users/jameshamann/Documents/Development/mysite1234'<br>    Server address: <a href="http://127.0.0.1:4000/">http://127.0.0.1:4000/</a><br>  Server running... press ctrl-c to stop.</pre> <p>Head over to <a href="http://localhost:4000"><strong>http://localhost:4000</strong></a><strong> </strong>and you should be able to see your site, using your gem¬†theme.</p> <h4>Going Live</h4> <p>Once you‚Äôve styled, created and tested your Jekyll theme, it‚Äôs time to go live! Once you‚Äôve edited your¬†<strong>.gemspec </strong>file and made sure all the necessary files are included, use the build command to build the first version of your gem. Ruby Gems use <a href="https://semver.org/">Semantic Versioning</a> so your first push might not be your major release, so it defaults to version¬†0.1.0.</p> <p>Briefly, Semantic Versioning works by incrementing the numbers based on <strong>MAJOR.MINOR.PATCH </strong>releases. <strong>MAJOR </strong>version<strong>, </strong>as the word suggests, is a major release where you make incompatible API changes. <strong>MINOR </strong>version is adding functionality in a backwards compatibility manner. <strong>PATCH</strong> version is for any bug fixes. It‚Äôs best practice to follow these guidelines when releasing/updating your gem, so keep that in mind during future development if you further tweak your¬†theme.</p> <pre><strong># bash</strong></pre> <pre>$ gem build YOURTHEME.gemspec</pre> <pre>$ gem push YOURTHEME.gem</pre> <p>This is where you‚Äôll need your login details you created earlier. Once filled in, head over to <a href="https://rubygems.org/">RubyGems</a> and search for your gem. It should appear in the list of results, go ahead and view the page to ensure all the details are correct. If you make a mistake, don‚Äôt worry you can pull it off using a simple¬†command.</p> <pre><strong># bash </strong></pre> <pre>$ gem yank YOURTHEME</pre> <p>Congrats, you‚Äôve just published a gem! You can also add your theme to various jekyll theme sites, most of them require you to fork the repo and open a pull request with a new post about your¬†theme.</p> <p>As always, thanks for reading, hit üëè if you like what you read and be sure to follow to keep up to date with future¬†posts.</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=1f8180a0e4b8" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Cloud Computing Service Types</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*TklL7QYA-HiCjoK7_suS3w.jpeg"></figure></p> <p>These days most people refer to things being in <strong><em>The Cloud </em></strong>but what does this actually mean? A general, high-level definition is <strong><em>the delivery of hosted services over the internet.</em></strong> Email, calendars, todo lists, photos, pretty much everything fits into that description. Think Google Drive backing your photos up or iCloud backing your iPhone up, both of these keep your data in stored in the cloud. This makes it easy to access your stuff across all of your devices. There are, though, a few different levels to cloud computing.</p> <h4>SaaS (Software as a¬†Service)</h4> <p>This is the outermost layer of the types, typically targeted at the end customer. The provider makes their application available through a web-browser, mobile app or dedicated desktop app, which is powered by cloud infrastructure. Lets use Google Sheets as an example here. The benefits provided to the consumer include the ability to create, edit and update spreadsheets from anywhere, with multiple users able to edit at one¬†time.</p> <h4>PaaS (Platform as a¬†Service)</h4> <p>This is the middle layer of our pyramid, typically used by developers. Here a developer can deploy their app, written in whatever language they‚Äôve chosen, to a pre-configured cloud infrastructure. The developer doesn‚Äôt deal with the configuration of the servers, databases or operating systems. Instead they are able to deploy their app with ease and speed. Let‚Äôs use Heroku as an example here. The benefits provided to the developer is quick, easy deployment with minimal hassle. You can push a rails app live within minutes, it allows for rapid prototyping and gives developers the ability to deploy an app without needing to worry about things like server configuration.</p> <h4>IaaS (Infrastructure as a¬†Service)</h4> <p>This is the final layer, where all the nuts and bolts lie. This level is typically used by sysadmins who would be charge of provisioning servers and deploying application builds. From here you‚Äôre able to completely configure everything, from operating systems and network settings. Lets use AWS‚Äôs EC2 instances as an example here. From the EC2 console when deploying a new instance you‚Äôre able to choose from a wide range of AMI images. When your instance is setup, you can SSH in and configure it in anyway you see fit. This gives the user huge levels of customisation and flexibility, which is important if you‚Äôre running apps that require very specific¬†needs.</p> <p>The diagram below provides a visual representation of each¬†level.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/983/1*BDzFTN81tMRz6xzaBWVZAw.png"></figure><p>Beyond this there are further abstractions like DaaS (Data/Desktop as a Service), STaaS (Storage as a Service) and SECaaS (Security as a Service). These are quite specific, focused in particular sectors and not as commonly known as the main three mentioned above.</p> <p>As always, thanks for reading, hit üëè if you like what you read and be sure to follow to keep up to date with future¬†posts.</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=3da6998a7a11" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Rails 5 API, React, Bitbucket Pipelines and AWS Elastic Beanstalk ‚Äî Part One</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*vNHKJnEg6gu9ajO-Ubw2xw.png"></figure></p> <p>In this post we‚Äôll be setting up a new Rails JSON API app, with a React front end. We‚Äôll also cover how to setup a CI/CD pipeline using Bitbucket Pipelines and AWS Elastic Beanstalk.</p> <h4>Technology and¬†Versions</h4> <ul> <li>Ruby 2.4.2</li> <li>Rails 5.1.4</li> <li>Postgresql 9.6</li> <li>React 16.0.0 (<a href="https://github.com/facebookincubator/create-react-app">Create React¬†App</a>)</li> <li>Bitbucket Pipelines</li> <li>AWS Elastic Beanstalk‚Ää‚Äî‚Ää64bit Amazon Linux 2017.09 v2.6.0 running Ruby 2.4¬†(Puma)</li> </ul> <h4>Overview</h4> <p>The end goal we‚Äôre all aiming for is to have a Rails 5 API app using Postgres, with a React front end, setup with a CI/CD pipeline through Bitbucket that automatically deploys our app to our Beanstalk instance. Simple right? Well, it¬†is!</p> <h4>Prerequisites</h4> <ul> <li>Basic knowledge of using¬†Terminal</li> <li>Basic Experience with Rails and React (Don‚Äôt worry if you¬†don‚Äôt!)</li> <li> <a href="https://bitbucket.org/">Bitbucket</a> account setup, with a repo created for your app. Feel free to use Github and CircleCI or Travis, however these configurations won‚Äôt be covered in this post. If you get stuck, please don‚Äôt hesitate to reach out and ask for¬†help!</li> <li><a href="https://aws.amazon.com/">AWS Account</a></li> </ul> <h3>Setting up Rails¬†API</h3> <p>First things first, we need to setup our Rails¬†backend.</p> <pre><strong>#bash</strong></pre> <pre>$ rails new myapp --database=postgresql --api</pre> <p>Navigate into your newly created app directory and boot the server up, you should get the all too familiar Rails Welcome¬†Screen.</p> <pre>#bash</pre> <pre>$ cd myapp<br>$ rails s<br>$ =&gt; Booting Puma<br>$ =&gt; Rails 5.1.4 application starting in development<br>$ =&gt; Run `rails server -h` for more startup options<br>$ Puma starting in single mode...<br>$ * Version 3.10.0 (ruby 2.4.2-p198), codename: Russell's Teapot<br>$ * Min threads: 5, max threads: 5<br>$ * Environment: development<br>$ * Listening on tcp://0.0.0.0:3000<br>$ Use Ctrl-C to stop</pre> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*HJzlfl0h5lwnXfllHxMqvQ.png"><figcaption>Yay! We‚Äôre on¬†Rails!</figcaption></figure><p>Next, we‚Äôre gonna want to install rspec as our testing suite, because we‚Äôre good and we write tests before coding,¬†right?</p> <p>Add the gem <strong>rspec-rails </strong>to your gemfile, bundle and then install it with rails. Along with this we‚Äôll need the gem <strong>rails_serve_static_assets </strong>so our react front end is served correctly when built and deployed.</p> <pre><strong>#bash</strong></pre> <pre># add gem 'rspec-rails' and gem 'rails_serve_static_assets' to your gemfile in your app's root.</pre> <pre>$ bundle install<br>$ rails g rspec:install<br>$ rspec</pre> <pre>Finished in 0.00031 seconds (files took 0.09378 seconds to load)<br>0 examples, 0 failures</pre> <p>Now we‚Äôve got our skeleton, lets push it up to our Bitbucket Repo and setup our build pipeline.</p> <pre><strong>#bash</strong></pre> <pre>#cd into your app's root </pre> <pre>$ git add .<br>$ git commit -m 'first commit, initial project setup'<br>$ git remote add origin git@bitbucket.org:yourusername/myapp.git<br>$ git push -u origin master</pre> <h3>CI/CD Pipeline¬†Setup</h3> <p>First you‚Äôll need to enable pipeline builds, to do this click <strong>Settings</strong> from the sidebar and toggle the <strong>Enable Pipelines</strong> switch to its active¬†state.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*rqsWYbSf7OVr2be6SwJ0GA.png"><figcaption>Enable Pipelines!</figcaption></figure><p>Once your project is on Bitbucket, hit the <strong>Pipelines</strong> button on the sidebar and choose Ruby from the dropdown language template selections.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Tugpp_jWRqI4j6-jQ0EV6g.png"><figcaption>Copy and Paste/Commit the File to trigger a build‚Ää‚Äî‚Äämake sure the Ruby version is¬†correct</figcaption></figure><p>Copy the file and paste the contents in a newly created <strong>bitbucket-pipelines.yml </strong>file within the root of your app, ensure you‚Äôve stated the correct Ruby version (<strong>2.4.2)</strong>. Once committed and pushed, a build will commence.</p> <pre><strong>#bash</strong></pre> <pre>$ touch bitbucket-piplines.yml</pre> <pre># copy the template contents into your newly created file</pre> <pre>$ git add .<br>$ git commit -m 'adds bitbucket-pipelines.yml and triggers first build'<br>$ git push origin master</pre> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*W9cpvpFerPi8W1CjIMnN_w.png"><figcaption>Our first successful (pointless) build!</figcaption></figure><p>At this stage, it‚Äôd be useful to add our AWS Keys so that Bitbucket can successfully deploy our app to Elastic Beanstalk. Click the <strong>Settings </strong>button and add both your <strong>AWS_ACCESS_KEY_ID </strong>and your <strong>AWS_SECRET_ACCESS_KEY</strong> to the <strong>Environment Variables </strong>section on the Settings tab. This is available from the <strong>My Security Credentials </strong>dropdown on your AWS Console, when hovering over your username in the top right. If you haven‚Äôt, you should really setup an IAM user. You shouldn‚Äôt really be using your Root Account Access Keys‚Ää‚Äî‚Ääbut that‚Äôs out of scope for this post, if you want to see how to setup an IAM user head¬†<a href="http://docs.aws.amazon.com/lambda/latest/dg/setting-up.html">here</a>.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*snZTl-vmwRQy775elMRiyA.png"><figcaption>Make sure to hit the ‚ÄúSecured‚Äù check box when adding your Environment Variables</figcaption></figure><p>Now we can setup our app to deploy to Elastic Beanstalk, on each successful build.</p> <p>Open up your <strong>bitbucket-pipelines.yml </strong>file and edit it to resemble the following.</p> <pre><strong># myapp/bitbucket-pipelines.yml</strong></pre> <pre># This is a sample build configuration for Ruby.<br># Check our guides at <a href="https://confluence.atlassian.com/x/8r-5Mw">https://confluence.atlassian.com/x/8r-5Mw</a> for more examples.<br># Only use spaces to indent your .yml configuration.<br># -----<br># You can specify a custom docker image from Docker Hub as your build environment.</pre> <pre>image: ruby:2.4.2<br>pipelines:<br>  default:<br>    - step:<br>        caches:<br>          - bundler<br>          - pip<br>        script:<br>          - apt-get update &amp;&amp; apt-get install -y python-dev<br>          - curl -O <a href="https://bootstrap.pypa.io/get-pip.py">https://bootstrap.pypa.io/get-pip.py</a><br>          - python get-pip.py<br>          - pip install awsebcli --upgrade<br>          - pip install awscli --upgrade<br>          - bundle install --path vendor/bundle<br>          - bundle exec rake<br>          - aws --version<br>          - eb init My-Application -r eu-west-2 -p arn:aws:elasticbeanstalk:eu-west-2::platform/Puma with Ruby 2.4 running on 64bit Amazon Linux/2.5.0<br>          - eb deploy MyApplication-staging<br>        services:<br>          - postgres</pre> <pre>definitions:<br>  caches:<br>    bundler: vendor/bundle<br>    pip: ~/.cache/pip<br>  services:<br>    postgres:<br>      image: postgres<br>      environment:<br>        POSTGRES_DB: 'myapp_test'<br>        POSTGRES_USER: 'root'<br>        POSTGRES_PASSWORD: 'test_user_password'</pre> <p>Lets take this moment to breakdown what exactly our pipelines file is doing. Bitbucket builds your app in a docker container, so if you wanted you could choose any docker image that best suited your app. The image we‚Äôve chosen is pre-configured only for ruby 2.4.2, therefore we have to install any other dependancies or packages we might need during the build process. We also load in another docker container for postgres, as our tests will require a database. In order for this to work correctly you‚Äôll also have to edit your <strong>database.yml </strong>file with the following.</p> <pre># <strong>myapp/config/database.yml</strong></pre> <pre>[...]</pre> <pre>test:<br>  &lt;&lt;: *default<br>  database: myapp_test<br>  <strong>host: localhost</strong></pre> <pre>[...]</pre> <p>Looking at the file, we first create a cache for our gems and for our other pip packages so that when the build runs, it doesn‚Äôt have to continuously download these dependancies. Instead, it can use the ones saved in our cache folder. This dramatically speeds the build up, which is important as you only get 100 minutes free per month. Next, we‚Äôre installing python in order to install AWS CLI and EB CLI. After that, we run our tests using <strong>bundle exec rake</strong>, if all tests pass we deploy the app using the <strong>eb</strong> commands.</p> <h4>Elastic Beanstalk Setup</h4> <p>Next, you‚Äôll need to create an application in AWS‚Äôs Elastic Beanstalk console and initialise Elastic Beanstalk within your repo. This is what the console would look like once an app‚Äôs¬†created.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*e7y26prn7bWEEWoy8R61NA.png"><figcaption>AWS Elastic Beanstalk Console</figcaption></figure><p>You can either create an environment now in the console or via EB CLI, I chose to do one now in the console as I can setup the database all in one go, but feel free to leave the database for later if you¬†like.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*2DPiZjKAkrVzhSPWtXMJ9g.png"><figcaption>Creating a new Environment for your¬†App</figcaption></figure><p>You can name your enviornment whatever you like, I‚Äôve called mine staging as I aim to have a staging site and live site. This helps if you‚Äôre going down the route of Blue-Green deployment. Choose <strong>Ruby </strong>from the platform list and then hit <strong>Configure more¬†Options</strong>.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*cvsZHpVHA-Fouqqt3MYPDg.png"><figcaption>Advanced Configuration for your App Environment</figcaption></figure><p>Here we‚Äôll change the platform configuration, at the top, to use <strong>Puma </strong>instead of Passenger Standalone as the web server. Next, click the <strong>Modify</strong> button under the <strong>Database¬†</strong>card.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Tr30o4OrhERIENjqO0UbsQ.png"><figcaption>Setting up Postgres DB¬†Instance</figcaption></figure><p>Ensure to choose <strong>postgres </strong>from the dropdown options, as thats the database we‚Äôre using, then create a username and password and hit <strong>Save. </strong>Once this is done, you can <strong>Create Environment </strong>which will take a few minutes as we‚Äôve setup our database as well. <strong>Take¬†5!</strong></p> <p>Once this is setup, lets add all our environment variables. We‚Äôll also need to edit our <strong>database.yml </strong>again to ensure it can connect to our RDS postgres instance.</p> <pre>#<strong> myapp/config/database.yml</strong></pre> <pre><strong>[...]</strong></pre> <pre>production:<br>  &lt;&lt;: *default<br>  &lt;&lt;: *default<br>  adapter: postgresql<br>  encoding: unicode<br>  database: &lt;%= ENV['RDS_DB_NAME'] %&gt;<br>  username: &lt;%= ENV['RDS_USERNAME'] %&gt;<br>  password: &lt;%= ENV['RDS_PASSWORD'] %&gt;<br>  host: &lt;%= ENV['RDS_HOSTNAME'] %&gt;<br>  port: &lt;%= ENV['RDS_PORT'] %&gt;</pre> <p>In the Elastic Beanstalk Console, hit the <strong>Configuration </strong>button and then click the <strong>Software Configuration </strong>card. Here, we‚Äôll add our env vars, which should¬†include:</p> <ul> <li>SECRET_KEY_BASE (run <strong>rake secret</strong> in the terminal and copy the¬†output)</li> <li>RDS_DB_NAME (for eb apps this will be<strong>¬†ebdb</strong>)</li> <li>RDS_USERNAME (the username we entered when creating our¬†db)</li> <li>RDS_PASSWORD (the password we entered when creating our¬†db)</li> <li>RDS_HOSTNAME (the <strong>endpoint url</strong> of the RDS instance, can be found in the AWS RDS Dashboard)</li> <li>RDS_PORT (as we‚Äôre using postgres, this will be¬†<strong>5432</strong>)</li> </ul> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*b41W0CC_C0g9U1FRmeA68A.png"><figcaption>Adding your Environment Variables to your EB¬†App</figcaption></figure><p>When you‚Äôre done click¬†<strong>Apply.</strong></p> <p>Lastly, before pushing for another build, we‚Äôll initialise Elastic Beanstalk in the root of our¬†app.</p> <pre><strong>#bash </strong></pre> <pre>$ eb init<br><br>Select a default region<br>1) us-east-1 : US East (N. Virginia)<br>2) us-west-1 : US West (N. California)<br>3) us-west-2 : US West (Oregon)<br>4) eu-west-1 : EU (Ireland)<br>5) eu-central-1 : EU (Frankfurt)<br>6) ap-south-1 : Asia Pacific (Mumbai)<br>7) ap-southeast-1 : Asia Pacific (Singapore)<br>8) ap-southeast-2 : Asia Pacific (Sydney)<br>9) ap-northeast-1 : Asia Pacific (Tokyo)<br>10) ap-northeast-2 : Asia Pacific (Seoul)<br>11) sa-east-1 : South America (Sao Paulo)<br>12) cn-north-1 : China (Beijing)<br>13) us-east-2 : US East (Ohio)<br>14) ca-central-1 : Canada (Central)<br>15) eu-west-2 : EU (London)<br>(default is 3): 15</pre> <pre>Select an application to use<br>1) My-Application<br>2) [ Create new Application ]<br>(default is 2): 1<br>Note: Elastic Beanstalk now supports AWS CodeCommit; a fully-managed source control service. To learn more, see Docs: <a href="https://aws.amazon.com/codecommit/">https://aws.amazon.com/codecommit/</a><br>Do you wish to continue with CodeCommit? (y/N) (default is n): n</pre> <p>This will create a¬†<strong>.elasticbeanstalk</strong> folder with a <strong>config.yml</strong> file. You‚Äôll need to edit out the following lines in your¬†<strong>.gitignore</strong> to be able to see the <strong>config.yml</strong> file, which should look something like¬†this.</p> <pre># <strong>myapp/.ebextensions/config.yml</strong></pre> <pre>branch-defaults:<br>  master:<br>    environment: MyApplication-staging<br>environment-defaults:<br>  MyApplication-staging:<br>    branch: null<br>    repository: null<br>global:<br>  application_name: My-Application<br>  default_ec2_keyname: null<br>  default_platform: arn:aws:elasticbeanstalk:eu-west-2::platform/Puma with Ruby 2.4<br>    running on 64bit Amazon Linux/2.6.0<br>  default_region: eu-west-2<br>  include_git_submodules: true<br>  instance_profile: null<br>  platform_name: null<br>  platform_version: null<br>  profile: null<br>  sc: git<br>  workspace_type: Application</pre> <p>As your project gets more complex, you can specify different branches to be deployed to different environments. For now, though, this‚Äôll¬†work.</p> <p>Boom you‚Äôre done! Setup is complete, look at all that¬†green!</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*ie9ga4ZOujQ7tstqLRdVUQ.png"><figcaption>Our first successful (meaningful) build!</figcaption></figure><p>Ok, so you‚Äôll probably be like wtf right now, because if you‚Äôve clicked your app‚Äôs URL link or typed <strong>eb open</strong> in the root of your app, you‚Äôll get the following‚Ä¶</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*b6ikq-NGgckPkSYtcPc7iQ.png"><figcaption>Ahhhh!</figcaption></figure><p>Fear not! We haven‚Äôt actually set any routes up, if you download the logs you‚Äôll see there‚Äôs a routing error. Don‚Äôt worry, we‚Äôll setup our API¬†next.</p> <h3>Creating our¬†API</h3> <p>For this post, I‚Äôll use the famous Todo example. Therefore, we should create a controller and model for our Todos. Good thing we can scaffold this up in rails. I still urge you to study what‚Äôs happening in each of the created files, so you at least get a grasp of how your app‚Äôs basic functions work. Rails is great for booting up a quick project, <strong>but it‚Äôs important you still understand how it‚Äôs put together.</strong></p> <pre>$ rails g scaffold Todo title:string</pre> <pre>Running via Spring preloader in process 79500<br>      invoke  active_record<br>   identical    db/migrate/20171107165836_create_todos.rb<br>   identical    app/models/todo.rb<br>      invoke    rspec<br>      create      spec/models/todo_spec.rb<br>      invoke  resource_route<br>       route    resources :todos<br>      invoke  scaffold_controller<br>   identical    app/controllers/todos_controller.rb<br>      invoke    rspec<br>      create      spec/controllers/todos_controller_spec.rb<br>      create      spec/routing/todos_routing_spec.rb<br>      invoke      rspec<br>      create        spec/requests/todos_spec.rb</pre> <p>If you run your tests you‚Äôll see it‚Äôs even written some of those for you. So there‚Äôs no real excuse for you to not write tests¬†here‚Ä¶</p> <pre><strong>#bash </strong></pre> <pre>$ rspec<br>**********.......</pre> <pre>Pending: (Failures listed here are expected and do not affect your suite's status)</pre> <pre>1) TodosController GET #index returns a success response<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:45</pre> <pre>2) TodosController GET #show returns a success response<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:53</pre> <pre>3) TodosController POST #create with valid params creates a new Todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:62</pre> <pre>4) TodosController POST #create with valid params renders a JSON response with the new todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:68</pre> <pre>5) TodosController POST #create with invalid params renders a JSON response with errors for the new todo<br>     # Add a hash of attributes invalid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:78</pre> <pre>6) TodosController PUT #update with valid params updates the requested todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:93</pre> <pre>7) TodosController PUT #update with valid params renders a JSON response with the todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:100</pre> <pre>8) TodosController PUT #update with invalid params renders a JSON response with errors for the todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:110</pre> <pre>9) TodosController DELETE #destroy destroys the requested todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:121</pre> <pre>10) Todo add some examples to (or delete) /Users/jameshamann/Documents/Development/rails_test/myapp/spec/models/todo_spec.rb<br>     # Not yet implemented<br>     # ./spec/models/todo_spec.rb:4</pre> <pre>Finished in 0.16122 seconds (files took 1.84 seconds to load)<br>17 examples, 0 failures, 10 pending</pre> <p>After pushing your latest update to your repo and once the build has succeeded, head over to your app‚Äôs page (using <strong>eb open</strong> or the link in the console). You‚Äôll still see an error but if you navigate to the path <strong>/todos </strong>you should see the following‚Ä¶</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*HosoEAqDaohF1zDd_Rtt9w.png"><figcaption>Empty JSON</figcaption></figure><p>Ok you might need glasses, but there‚Äôs a little <strong>[]</strong>. That little <strong>[]</strong> means there‚Äôs no data, but our app¬†works!</p> <p>To give this a quick test, let‚Äôs send a POST request up to our API and create a new Todo. I use <a href="https://httpie.org/">httpie</a> as it‚Äôs pretty quick and easy to install and get¬†setup.</p> <pre>$ http POST myapplication-staging.adpy2jk7cv.eu-west-2.elasticbeanstalk.com/todos \<br>title=PickUpBeers</pre> <pre><br>HTTP/1.1 201 Created<br>Cache-Control: max-age=0, private, must-revalidate<br>Connection: keep-alive<br>Content-Type: application/json; charset=utf-8<br>Date: Wed, 22 Nov 2017 20:22:29 GMT<br>ETag: W/"6690e9dc1a90d86fe6463be9dec11a9b"<br>Location: <a href="http://myapplication-staging.adpy2jk7cv.eu-west-2.elasticbeanstalk.com/todos/1">http://myapplication-staging.adpy2jk7cv.eu-west-2.elasticbeanstalk.com/todos/1</a><br>Server: nginx/1.12.1<br>Transfer-Encoding: chunked<br>X-Request-Id: 28d7bef7-4605-4128-8c56-179ecc0a6489<br>X-Runtime: 0.059169</pre> <pre>{<br>    "created_at": "2017-11-22T15:22:29.064Z",<br>    "id": 1,<br>    "title": "PickUpBeers",<br>    "updated_at": "2017-11-22T15:22:29.064Z"<br>}</pre> <p>You‚Äôll see our request has been successfully sent, but does it display in our¬†app?</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Nw3Y-on7yu7ARUMTh9qB-w.png"></figure><p>Of course it¬†does!</p> <p>Now that you have some proof that it actually works, let‚Äôs add our front end quick and link it all together.</p> <h3>Setting up React Front-End</h3> <p>We‚Äôre gonna use<a href="https://github.com/facebookincubator/create-react-app"> create-react-app</a> to generate the boilerplate code.</p> <pre><strong>#bash</strong></pre> <pre>$ create-react-app client</pre> <pre>Creating a new React app in /Users/jameshamann/Documents/myapp/client.</pre> <pre>Installing packages. This might take a couple of minutes.<br>Installing react, react-dom, and react-scripts...</pre> <pre>&gt; fsevents@1.1.2 install /Users/jameshamann/Documents/myapp/client/node_modules/fsevents<br>&gt; node install</pre> <pre>[fsevents] Success: "/Users/jameshamann/Documents/Development/myapp/client/node_modules/fsevents/lib/binding/Release/node-v57-darwin-x64/fse.node" already installed<br>Pass --update-binary to reinstall or --build-from-source to recompile</pre> <pre>&gt; uglifyjs-webpack-plugin@0.4.6 postinstall /Users/jameshamann/Documents/Development/myapp/client/node_modules/uglifyjs-webpack-plugin<br>&gt; node lib/post_install.js</pre> <pre>+ react@16.0.0<br>+ react-dom@16.0.0<br>+ react-scripts@1.0.17<br>added 1267 packages in 38.902s</pre> <pre>Success! Created client at /Users/jameshamann/Documents/Development/myapp/client<br>Inside that directory, you can run several commands:</pre> <pre>npm start<br>    Starts the development server.</pre> <pre>npm run build<br>    Bundles the app into static files for production.</pre> <pre>npm test<br>    Starts the test runner.</pre> <pre>npm run eject<br>    Removes this tool and copies build dependencies, configuration files<br>    and scripts into the app directory. If you do this, you can‚Äôt go back!</pre> <pre>We suggest that you begin by typing:</pre> <pre>cd client<br>  npm start</pre> <pre>Happy hacking!</pre> <p>Now you keen eyes will be thinking, how can we run node and rails at the same time, what are we going to do?! Fear not, we‚Äôll run rails on port 3001 whilst running our react app on 3000. This speeds up development massively as you can see changes instantly, instead of having to run the build command each time you wanted to view any updates. Edit your <strong>package.json</strong> to proxy requests to port¬†3001.</p> <pre><strong># myapp/client/package.json</strong></pre> <pre>{<br>  "name": "client",<br>  "version": "0.1.0",<br> <strong> "proxy": "</strong><a href="http://localhost:3001"><strong>http://localhost:3001</strong></a><strong>",</strong><br>  "private": true,<br>  "dependencies": {<br>    "react": "^16.0.0",<br>    "react-dom": "^16.0.0",<br>    "react-scripts": "1.0.17"<br>  },<br>  "scripts": {<br>    "start": "<strong>PORT=3000</strong> react-scripts start",<br>    "build": "react-scripts build",<br>    "test": "react-scripts test --env=jsdom",<br>    "eject": "react-scripts eject"<br>  }<br>}</pre> <p>This next section is <strong>completely optional.</strong> It‚Äôs useful though as it automates a lot of the tedious tasks you‚Äôll be doing on a regular¬†basis.</p> <p>First up, we‚Äôre going to add the <strong>foreman </strong>gem to our gem file and bundle it, this allows us to write Procfiles to manage our development and build¬†tasks.</p> <p>Once bundled, create a Procfile in the <strong>myapp/client </strong>directory called <strong>Procfile</strong>. It should look like¬†this.</p> <pre><strong># myapp/client/Procfile</strong></pre> <pre>web: npm start<br>api: cd .. &amp;&amp; bundle exec rails s -p 3001</pre> <p>It‚Äôs pretty self explanatory, but here we‚Äôre starting up node on port 3000 and rails on port¬†3001.</p> <p>Next we‚Äôre going to create a few rake tasks, one for development and one for production. The default will be for development and we‚Äôll have to specify <strong>rake start:production </strong>if we want a production build.</p> <pre><strong>#bash </strong></pre> <pre>$ touch myapp/lib/tasks/start.rake</pre> <pre><strong># myapp/lib/tasks/start.rake</strong></pre> <pre>namespace :start do<br>  task :development do<br>    exec 'cd client &amp;&amp; foreman start -f Procfile'<br>  end</pre> <pre>desc 'Start production server'<br>  task :production do<br>    exec 'NPM_CONFIG_PRODUCTION=true npm run clientbuild &amp;&amp; cd client'<br>  end<br>end</pre> <pre>desc 'Start development server'<br>task :start =&gt; 'start:development'</pre> <p>These rake tasks will speed up your workflow by huge amounts, it‚Äôll make booting up your dev server and generating new builds effortless. Give it a go, try running <strong>rake¬†start.</strong></p> <pre><strong>#bash </strong></pre> <pre>$ rake start </pre> <pre>19:22:35 web.1  | started with pid 81472<br>19:22:35 api.1  | started with pid 81473<br>19:22:35 web.1  |<br>19:22:35 web.1  | &gt; client@0.1.0 start /Users/jameshamann/Documents/Development/rails_test/myapp/client<br>19:22:35 web.1  | &gt; PORT=3000 react-scripts start<br>19:22:35 web.1  |<br>19:22:36 api.1  | =&gt; Booting Puma<br>19:22:36 api.1  | =&gt; Rails 5.1.4 application starting in development<br>19:22:36 api.1  | =&gt; Run `rails server -h` for more startup options<br>19:22:36 api.1  | Puma starting in single mode...<br>19:22:36 api.1  | * Version 3.10.0 (ruby 2.4.2-p198), codename: Russell's Teapot<br>19:22:36 api.1  | * Min threads: 5, max threads: 5<br>19:22:36 api.1  | * Environment: development<br>19:22:36 api.1  | * Listening on tcp://localhost:3001<br>19:22:36 api.1  | Use Ctrl-C to stop<br>19:22:37 web.1  | Starting the development server...<br>19:22:37 web.1  |<br>19:22:41 web.1  | Compiled successfully!<br>19:22:41 web.1  |<br>19:22:41 web.1  | You can now view client in the browser.<br>19:22:41 web.1  |<br>19:22:41 web.1  |   Local:            <a href="http://localhost:3000/">http://localhost:3000/</a><br>19:22:41 web.1  |   On Your Network:  <a href="http://192.168.1.177:3000/">http://192.168.1.177:3000/</a><br>19:22:41 web.1  |<br>19:22:41 web.1  | Note that the development build is not optimized.<br>19:22:41 web.1  | To create a production build, use npm run build.<br>19:22:41 web.1  |</pre> <p>Pretty nifty¬†ay?</p> <p>Lets configure our production task correctly now. You‚Äôll notice from the code that it runs a script within the app directory, not the client directory, this means we‚Äôll need to create another <strong>package.json </strong>file, but this one will live in our app‚Äôs¬†root.</p> <pre>$ npm init</pre> <pre>This utility will walk you through creating a package.json file.<br>It only covers the most common items, and tries to guess sensible defaults.</pre> <pre>See `npm help json` for definitive documentation on these fields<br>and exactly what they do.</pre> <pre>Use `npm install &lt;pkg&gt;` afterwards to install a package and<br>save it as a dependency in the package.json file.</pre> <pre>Press ^C at any time to quit.<br>package name: (myapp) myapp<br>version: (1.0.0)<br>description:<br>entry point: (index.js)<br>test command:<br>git repository: (<a href="https://github.com/jameshamann/clojure-todo.git">https://github.com/yourusername/myapp.git</a>)<br>keywords:<br>author:<br>license: (ISC)</pre> <p>This will generate you a package.json, which you can edit to replicate the below¬†version.</p> <pre>{<br>  "name": "myapp",<br>  "engines": {<br>    "node": "6.3.1"<br>  },<br>  "scripts": {<br>    "build": "cd client &amp;&amp; npm install &amp;&amp; npm run build &amp;&amp; cd ..",<br>    "deploy": "cp -a client/build/. public/",<br>    "clientbuild": "npm run build &amp;&amp; npm run deploy &amp;&amp; echo 'Client built!'"<br>  },<br>}</pre> <p>All we‚Äôve done is automated running commands like <strong>npm run deploy, npm run build. </strong>As both our API and Front End live on the same domain, for now, we‚Äôll need to copy our build files over to the <strong>public </strong>folder in the app‚Äôs root. Everything in the <strong>public </strong>folder is your app‚Äôs front-end after it‚Äôs been built for production.</p> <p>Run a production build using <strong>rake start:production, </strong>then push the contents to your repo to trigger a¬†build.</p> <p>When navigating to your app you should see¬†this:</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*7s5drlrWsm2kUYVXBflw6w.png"></figure><p>Congrats, you‚Äôre done! You‚Äôve got yourself a Rails API, React app setup with a automated build pipeline, well done! Obviously there‚Äôs a lot more to cover, but the building blocks are in place for you to carry on building out your¬†app.</p> <p>In my next post I‚Äôll look into <strong>implementing the basic CRUD functions of the¬†app.</strong></p> <p>As always, if you have any questions please drop a¬†comment!</p> <p>Thanks for reading, hit üëè if you like what you read and be sure to follow to keep up to date with future¬†posts.</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=f0f0bb67112f" width="1" height="1"><hr> <p><a href="https://blog.cloudboost.io/rails-5-api-react-bitbucket-pipelines-and-aws-elastic-beanstalk-part-one-f0f0bb67112f">Rails 5 API, React, Bitbucket Pipelines and AWS Elastic Beanstalk ‚Äî Part One</a> was originally published in <a href="https://blog.cloudboost.io">CloudBoost</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Hi Martin Raskovsky, thanks for getting in touch!</b></h4> <p style="text-align:justify"></p> <p>Hi <a href="https://medium.com/u/6901d61b4e3d">Martin Raskovsky</a>, thanks for getting in touch! Looking at your logs now and trying to figure out what the issue is. I could be completely wrong, but it looks like it‚Äôs failing when during the asset_compliation stage, so there might be something wrong, somewhere in your¬†project.</p> <p>Looking at your second error when running ‚Äúeb deploy‚Äù, it looks like Postgres isn‚Äôt running. I‚Äôve had a similar error before and it‚Äôs usually down to the Postgres server not running/being offline.</p> <p>I‚Äôd be more than happy to help you with this, would you be able to share your project/repo with me so I can checkout the code and try deploying it¬†myself?</p> <p>Thanks, James</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=66b113c77b03" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>Provisioning SSL certificates on your Server</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*QK8AEkd_lFV1kmnFdtcADg.jpeg"></figure></p> <p>If you handle sensitive information on your web app, like processing payments or entering passwords, then it‚Äôs important you protect your users by making sure your website is secure using SSL. It‚Äôs basically like sending a letter, but making sure you put it in an envelope and seal it up before firing it off. With search engines now favouring SSL sites over others, it‚Äôs a good way to boost your ranking and ensure you‚Äôre protected.</p> <h3><strong>What is¬†SSL?</strong></h3> <p>SSL, or Secure Sockets Layer, is a protocol that ensures a secure connection between the client and server so that information can be sent and received securely. This works by encrypting the data using a key-pair, a private key only accessible on server and a public key accessible to everyone. The message is encrypted and sent to the sever, with the public key, if the public key matches the private key, the data is decrypted and processed by the server accordingly. You can tell if you‚Äôre SSL secure by the green padlock on your web browser, if it says something like ‚ÄúSecure Connection‚Äù you‚Äôre good. Also the URL prefix would be https://‚Ä¶ as opposed to¬†<a href="http://.">http://</a>‚Ä¶</p> <h3><strong>Setup</strong></h3> <p>Pretty much most service providers, like GoDaddy, NameCheap, RapidSSL etc‚Ä¶ provide an easy process to buy a certificate. Once purchased, you‚Äôll need to generate a CSR (certificate signing request), it doesn‚Äôt matter where this is done, <strong>it doesn‚Äôt need to be done on the same server that you wish to install the certificate on. </strong>There are two ways to do this, through the terminal using <strong>openssl</strong> or (if you‚Äôre on a Mac) through the <strong>KeyChain Access </strong>application.</p> <h4>Using the¬†Terminal</h4> <pre>$ openssl req -new -newkey rsa:2048 -nodes -keyout <em>yourdomain</em>.key -out <em>yourdomain</em>.csr</pre> <p>This command will prompt you to go through a little creation wizard, as highlighted below.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*SO1lGlR16Czhih7lkivydQ.png"><figcaption>openssl Wizard</figcaption></figure><p>You‚Äôll be asked to enter a few details as well as choosing a password for the keypair. Once this is done, the¬†.csr (certificate sigining request) and yourdomainname.key is generated in the directory that you ran the command. If you open up the¬†.csr file in a text editor it should look something like¬†this.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*h0NCgfQ4oSpxQoXIH6SlWA.png"><figcaption>yourdomain.csr</figcaption></figure><p>When managing your SSL, you‚Äôll be asked for the csr, copy and paste or upload (depending on service provider) the file. Once this is done, verification will be done to ensure you‚Äôre the domain owner as well. This is done through either shooting an email across or adding a TXT record with a key value to your DNS. Once verified you‚Äôre ready to go! Depending on where you‚Äôre installing your certificate there will be different file¬†types.</p> <h4>File Types</h4> <h4>.pem</h4> <p>This is the most common format and can have other suffix‚Äôs, including¬†<strong>.pem,¬†.crt,¬†.key </strong>and<strong>¬†.cer. </strong>You‚Äôll know it‚Äôs in a¬†<strong>.pem</strong> format if the file is readable in a text editor and starts with<strong>‚Ää‚Äî‚Ää‚Äî‚Ää‚Äî‚ÄäBEGIN CERTIFICATE‚Ää‚Äî‚Ää‚Äî‚Ää‚Äî</strong>‚Ää. These types of certificates are used with Apache, Nginx and similar¬†servers.</p> <h4><strong>.der</strong></h4> <p>This is a binary form of the¬†.pem certificate. It can have the suffix¬†<strong>.der </strong>and¬†<strong>.cer</strong> and is typically used on the Java platform.</p> <h4>.p7b/PKCS#7</h4> <p>These types of certificates are also readable in a text editor, they start with‚Ää‚Äî‚Ää<strong>‚Äî‚Ää‚Äî‚ÄäBEGIN PCKS‚Ää‚Äî‚Ää‚Äî‚Ää‚Äî</strong>‚Ääand end with<strong>‚Ää‚Äî‚Ää‚Äî‚Ää‚Äî‚ÄäEND PCKS7‚Ää‚Äî‚Ää‚Äî‚Ää‚Äî‚Ää. </strong>They can contain certificates or chain certificates but can‚Äôt contain the private key, which will need to be in a separate file. These are supported on platforms like Windows and¬†Tomcat.</p> <h4>.pfx/PCKS#12</h4> <p>This type of certificate file stores the certificate, any additional certificates and the private key in one binary, encryptable file. This is typically used on Windows platforms.</p> <p>If you find yourself with the wrong format, for whatever reason, there is a way to convert them. For more information, head over <a href="https://www.sslshopper.com/ssl-converter.html">here</a> and follow the simple instructions.</p> <h4>Using Keychain¬†Access</h4> <p>Do a quick spotlight search for Keychain Access and open up the application, it‚Äôll look something like this. You‚Äôll then want to head to the menu and navigate to the option <strong>Request a Certificate From a Certificate Authority‚Ä¶</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*qmnevFsFkR-88gaKxiolng.png"><figcaption>Click ‚ÄúRequest a Certificate From a Certificate Authority‚Ä¶‚Äù from the dropdown¬†menu</figcaption></figure><p>This will bring up the following <strong>Certificate Assistant</strong>, where you‚Äôll be asked to enter a few details. Ensure you choose the option <strong>Save to¬†disk.</strong></p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*WCwWyIp0wLMb6RjM_mBRBw.png"><figcaption>Ensure you choose <strong>Saved to¬†disk</strong></figcaption></figure><p>Once hitting <strong>Continue</strong>, you‚Äôll be asked where you want to save your¬†.csr file, after that your¬†.csr will be generated. Your private key will be accessible in the <strong>keys</strong> section of the <strong>Keychain Access</strong> app. Depending on your service provider you can either upload the¬†.csr file or open a text editor and paste the contents of the¬†.csr file to start the¬†process.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*qH6lkp1owLuf6hvD1PHDuw.png"><figcaption>All done!</figcaption></figure><p>That‚Äôs it really, depending on your type of server and configuration installation of the certificate will vary, but it‚Äôs usually quite straightforward.</p> <h3>Free SSL Certificates</h3> <p>AWS, Heroku, Azure all provide free SSL certificates for certain services. For example on AWS if you deploy your content through a CloudFront distribution you can apply an SSL certificate to it, free of charge using the Certificate Manager in AWS. As well as that there‚Äôs another cool service called <a href="https://letsencrypt.org/"><strong>Let‚Äôs¬†Encrypt</strong></a><strong>.</strong></p> <h4><strong>Lets Encrypt</strong></h4> <p>This service offers a free, automated and open certificate authority. It works by running a certificate management agent on your web server. They automatically renew the certificate before it expires, which is handy and stops you having to monitor the process. Another awesome reason to use this service is that they‚Äôre supporting wildcard certificates from January next year. Head over to their <a href="https://letsencrypt.org/getting-started/">getting started guide</a>, if you‚Äôre interested.</p> <p>Thanks for reading, hit üíö if you like what you read and be sure to follow to keep up to date with future¬†posts.</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=7597ec17a66" width="1" height="1"> </div> </div> <div class="row"> <div class="col s10 offset-s1"> <h4 style="text-align:center"><b>React-Native and Firebase ‚Äî Part One Simple Authentication</b></h4> <p style="text-align:justify"><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*ipwpqQrHz0Lkd_5setXQCQ.jpeg"><figcaption>Firebase</figcaption></figure></p> <p>So I‚Äôve slowly been making progress with my beer app and recently finished up authentication, so figured it was time for another post. I chose Firebase as I‚Äôve messed around with it before and remember it being a pretty good fit for mobile apps, plus the interface is pretty¬†slick.</p> <p>I‚Äôm gonna assume you all have an app skeleton setup using either react-native init or create-react-native-app.</p> <h3>React-Native Project¬†Setup</h3> <p>As I used react-native init, the first thing I do is create an <em>App.js </em>file in the root, copy and paste the code from either index.ios.js or index.android.js and paste it in <em>App.js</em> so it looks something like¬†this.</p> <pre>import React, { Component } from 'react';<br>import {<br>  AppRegistry,<br>  StyleSheet,<br>  Text,<br>  View<br>} from 'react-native';</pre> <pre>export default class myapp extends Component {<br>  render() {<br>    return (<br>      &lt;View style={styles.container}&gt;<br>        &lt;Text style={styles.welcome}&gt;<br>          Welcome to React Native!<br>        &lt;/Text&gt;<br>        &lt;Text style={styles.instructions}&gt;<br>          To get started, edit index.ios.js<br>        &lt;/Text&gt;<br>        &lt;Text style={styles.instructions}&gt;<br>          Press Cmd+R to reload,{'\n'}<br>          Cmd+D or shake for dev menu<br>        &lt;/Text&gt;<br>      &lt;/View&gt;<br>    );<br>  }<br>}</pre> <pre>const styles = StyleSheet.create({<br>  container: {<br>    flex: 1,<br>    justifyContent: 'center',<br>    alignItems: 'center',<br>    backgroundColor: '#F5FCFF',<br>  },<br>  welcome: {<br>    fontSize: 20,<br>    textAlign: 'center',<br>    margin: 10,<br>  },<br>  instructions: {<br>    textAlign: 'center',<br>    color: '#333333',<br>    marginBottom: 5,<br>  },<br>});</pre> <pre>AppRegistry.registerComponent('myapp', () =&gt; myapp);</pre> <p>Next, in each of the <strong>index.android.js </strong>and <strong>index.ios.js</strong> add the following line:</p> <pre>import "./App";</pre> <p>This makes things a little easier in that you only have to worry about editing one file and changes will be reflected both in iOS and Android versions of the app. Obviously, depending on what you‚Äôre doing, some features may only be accessible on certain platforms/look different on either platform, so as the complexity of your app grows, you may find yourself editing each respective file on it‚Äôs own, but for the purpose of this, it works¬†fine.</p> <p>I know there‚Äôs a few different ways to setup your file structure with a React Project, this is the way I‚Äôve read/adopted for now, if you think it could be done better, please a shoot comment¬†below!</p> <p>Delete anything style based out of the <em>App.js </em>file, we‚Äôll create a specific stylesheet for each page as some styles would be specific to each page on the app. Next, create an ‚Äòapp‚Äô folder in the root of the project and within that create a ‚Äòcomponent‚Äô folder, this is where all our app pages will live as well as any components we create. Your project directory, if using react-native init, will look something like the¬†below.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/586/1*gAU4-tIpgGUbNLNRDKjPKA.png"><figcaption>Project Directory for React-Native App</figcaption></figure><h3>Firebase Setup</h3> <p>Head over to <a href="https://firebase.google.com">firebase</a> and sign in (sign up, if you haven‚Äôt already, with your gmail account). You can then Add a project and enter the name of your app, as well as choosing the country/region you‚Äôre currently in. Once this is done you‚Äôll be taken to your app‚Äôs dashboard screen, which looks something like¬†this.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*R-8UGmPHIIOIFkb6hP5YIQ.png"></figure><p>You‚Äôre going to want to click ‚ÄúAdd Firebase to your web app‚Äù, which will bring up a pop up with your config¬†details.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*onAeLMrvhg3U5aXXiQ0v0g.png"></figure><p>This is obviously built for a web app so we‚Äôll need to convert into pure JS to work with React-Native. We‚Äôll then initialise the Firebase App in the <strong>componentWillMount() </strong>method, this ensures it‚Äôs called before the initial render of the component.</p> <p>It‚Äôs a good idea to use <a href="https://github.com/zetachang/react-native-dotenv">react-native-dotenv</a> so you‚Äôre not pushing your live api keys for the world to see. It‚Äôs super easy to setup, just create a¬†<strong>.env </strong>file, add it to your¬†<strong>.gitignore</strong> file, stick all your env vars in there and import them in where ever you need¬†them.</p> <pre>import {<br>   FIREBASE_API_KEY,<br>   AUTH_DOMAIN,<br>   DATABASE_URL,<br>   FIREBASE_PROJECT_ID,<br>   FIREBASE_STORAGE_BUCKET,<br>   MESSAGE_ID<br>} from 'react-native-dotenv';</pre> <pre>componentWillMount() {<br>        firebase.initializeApp({<br>            apiKey: FIREBASE_API_KEY,<br>            authDomain: AUTH_DOMAIN,<br>            databaseURL: DATABASE_URL,<br>            projectId: FIREBASE_PROJECT_ID,<br>            storageBucket: FIREBASE_STORAGE_BUCKET,<br>            messagingSenderId: MESSAGE_ID<br>        });<br>    }</pre> <h3>Creating a Sign Up/Sign In¬†form</h3> <p>We‚Äôll extract our text input form into a separate component as we‚Äôll re-use this for the input of an email, password, name or any other details we feel like capturing. In the ‚Äòcomponent‚Äô folder, create a new file <strong>TextInputField.js </strong>and <strong>enter </strong>the below¬†code.</p> <pre>import React, { Component } from 'react';<br>import { View, Text, TextInput } from 'react-native';</pre> <pre>import styles from './styles.js';</pre> <pre>const TextFieldInput = ({ label, value, onChangeText, placeholder, secureTextEntry }) =&gt; {</pre> <pre>const { inputStyle, labelStyle, containerStyle } = styles;</pre> <pre>return (<br>        &lt;View style={containerStyle}&gt;<br>            &lt;Text&gt;{label}&lt;/Text&gt;<br>            &lt;TextInput<br>                autoCorrect={false}<br>                placeholder={placeholder}<br>                secureTextEntry={secureTextEntry}<br>                value={value}<br>                onChangeText={onChangeText}<br>                style={inputStyle}<br>                underlineColorAndroid={'transparent'}<br>                autoCorrect={false}<br>            /&gt;<br>        &lt;/View&gt;<br>    );<br>};</pre> <pre>export default TextFieldInput;</pre> <p>Reason I highlighted <strong>enter</strong> was because you should really enter this stuff line by line, it‚Äôll help you understand what you‚Äôre actually doing. It‚Äôs pretty straightforward, but let‚Äôs just break it down to see what we‚Äôre doing¬†here.</p> <p>We‚Äôre importing everything we need, you‚Äôll notice I‚Äôve already setup some styles in a separate file, which we‚Äôll go over in a sec. We start by creating a constant, <strong>TextFieldInput</strong>, which will take the arguments <strong>label, value, onChangeText, placeholder </strong>and <strong>secureTextEntry. </strong>Within our function we then define our <strong>styles</strong> constant, which allow us to define what styles to use and where to get them from. Next we setup a <strong>View</strong> using our <strong>containerStyle, </strong>and a <strong>TextInput, </strong>which will have a text heading value of whatever <strong>label</strong> is set to. We then define each of the <strong>TextInput </strong>parameters based on either the arguments we defined earlier. You‚Äôll notice I‚Äôve also added ‚Äú<strong>underlineColorAndroid={‚Äòtransparent‚Äô}‚Äù</strong>. On Android you get this weird underline, which looks pretty messy, this line basically gets rid of it. Lastly, we export our new component, ready to be imported wherever we use¬†it.</p> <p>Now we‚Äôre ready to create our Sign in/Sign up form, go ahead and create a <em>SignInForm </em>folder within our ‚Äòapp‚Äô folder. Then create an <strong>index.js </strong>and <strong>styles.js </strong>Below is the completed snippet for our <strong>SignInForm </strong>page, let‚Äôs deconstruct it and see what each section is actually¬†doing.</p> <pre>import React, { Component } from 'react‚Äô;<br>import { View, Text, Button } from 'react-native‚Äô;<br>import firebase from 'firebase‚Äô;<br>import TextInputField from '../component‚Äô;<br>import styles from './styles.js‚Äô;</pre> <pre>class SignInForm extends Component {<br>    state = { email: '', password: '', error: '', loading: false };<br>    onSignInPress() {<br>        this.setState({ error: '', loading: true });</pre> <pre>const { email, password } = this.state;<br>        firebase.auth().signInWithEmailAndPassword(email, password)<br>            .then(() =&gt; { this.setState({ error: '', loading: false }); })<br>            .catch(() =&gt; {<br>                firebase.auth().createUserWithEmailAndPassword(email, password)<br>                    .then(() =&gt; { this.setState({ error: '', loading: false }); })<br>                    .catch(() =&gt; {<br>                        this.setState({ error: 'Authentication failed.', loading: false });<br>                    });<br>            });<br>    }<br>    renderButtonOrLoading() {<br>        if (this.state.loading) {<br>            return &lt;View&gt;&lt;ActivityIndicator /&gt;&lt;/View&gt;<br>        }<br>        return &lt;Button onPress={this.onSignInPress.bind(this)} title="Log in" /&gt;;<br>    }<br>    render() {<br>        return (<br>            &lt;View&gt;<br>                    &lt;TextFieldInput<br>                        label='Email Address'<br>                        <a href="mailto:placeholder='youremailaddress@domain.com">placeholder='youremailaddress@domain.com</a>'<br>                        value={this.state.email}<br>                        onChangeText={email =&gt; this.setState({ email })}<br>                        autoCorrect={false}<br>                    /&gt;<br>                    &lt;TextFieldInput<br>                        label='Password'<br>                        autoCorrect={false}<br>                        placeholder='Your Password'<br>                        secureTextEntry<br>                        value={this.state.password}<br>                        onChangeText={password =&gt; this.setState({ password })}<br>                    /&gt;<br>                    &lt;Text style={styles.errorTextStyle}&gt;{this.state.error}&lt;/Text&gt;<br>                    {this.renderButtonOrLoading()}<br>            &lt;/View&gt;<br>        );<br>    }<br>}</pre> <pre>export default SignInForm;</pre> <p>Here we‚Äôre obviously just importing everything we need, notice that we bring in our <strong>TextFieldInput</strong> we made earlier as well as our <strong>styles</strong>, which we extract out to a separate file for cleaner¬†code.</p> <pre>import React, { Component } from 'react‚Äô;<br>import { View, Text, Button } from 'react-native‚Äô;<br>import firebase from 'firebase‚Äô;<br>import TextFieldInputField from '../component‚Äô;<br>import styles from './styles.js‚Äô;</pre> <p>Now we create our <strong>SignInForm</strong>. We start by setting the state of four variables, <strong>email, password, error </strong>and¬†<strong>loading.</strong></p> <pre>class SignInForm extends Component {<br>    state = { email: '', password: '', error: '', loading: false };<br>    onSignInPress() {<br>        this.setState({ error: '', loading: true });</pre> <pre>const { email, password } = this.state;<br>        firebase.auth().signInWithEmailAndPassword(email, password)<br>            .then(() =&gt; { this.setState({ error: '', loading: false }); })<br>            .catch(() =&gt; {<br>                <br>                firebase.auth().createUserWithEmailAndPassword(email, password)<br>                    .then(() =&gt; { this.setState({ error: '', loading: false }); })<br>                    .catch(() =&gt; {<br>                        this.setState({ error: 'Authentication failed.', loading: false });<br>                    });<br>            });<br>    }</pre> <p>Next we create a <strong>OnSignInPress</strong> function, we set the state of <strong>error</strong> to an empty string and <strong>loading </strong>to true. We then setup a constant, containing <strong>email </strong>and <strong>password</strong> and set those equal to <strong>this.state. </strong>This will capture the email and password values entered into the form. Next we call firebase‚Äôs <strong>signInWithEmailAndPassword </strong>method and pass it the arguments of <strong>email </strong>and <strong>password</strong>. Then, we call an error catcher which, if the Login was unsuccessful, i.e the user doesn‚Äôt exist, firebase‚Äôs <strong>createUserWithEmailAndPassword</strong> method will get called and passed with the <strong>email </strong>and <strong>password </strong>arguments. This will create a new user, which will pretty much instantly appear in your firebase console. Lastly, if everything fails, say you enter an email without a password, error is set to <strong>‚ÄúAuthentication Failed‚Äù</strong>, which is then displayed to the user. This is pretty much the meat of the authentication done. If you‚Äôre interested, head over <a href="https://firebase.google.com/docs/reference/js/firebase.auth.Auth">to the docs</a>, there‚Äôs a bunch of other ways to authenticate, including phone number, next time I‚Äôll go through social logins and all that other¬†jazz.</p> <p>The next function <strong>renderButtonOrLoading()</strong>, as the title suggests, renders a button or a <strong>Loading </strong>message. Essentially we are rendering our <strong>loading </strong>variable from earlier, if it‚Äôs true it‚Äôll display the text <strong>Loading‚Ä¶¬†, </strong>we can obviously put a fancy animation in here as well, but I‚Äôll leave that to you. We then render our Sign in button, which is bound to our function <strong>onSignInPress</strong>, so whenever the button is clicked, the function is¬†run.</p> <pre>renderButtonOrLoading() {<br>        if (this.state.loading) {<br>            return &lt;Text&gt;Loading...&lt;/Text&gt;<br>        }<br>        return &lt;Button onPress={this.onSignInPress.bind(this)} title="Sign in" /&gt;;<br>    }</pre> <p>Lastly, we render the view. This is where we bring in our <strong>TextInputField </strong>component we made earlier. We enter the <strong>label </strong>value, <strong>placeholder </strong>text and set the state <strong>email </strong>variable equal to what‚Äôs inputted into the text field. Pretty much exactly the same goes for the Password field except of the extra option <strong>autoCorrect</strong> and <strong>SecureTextEntry, </strong>which as the name suggests, ensures the password is hidden from view with the ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ or ****** characters. The final thing we do is export the whole thing, so we can call it in our <em>App.js¬†</em>file.</p> <pre>render() {<br>        return (<br>            &lt;View&gt;<br>                    &lt;TextInputField<br>                        label=‚ÄôEmail Address'<br>                        <a href="mailto:placeholder='youremailaddress@domain.com">placeholder=‚Äôyouremailaddress@domain.com</a>'<br>                        value={this.state.email}<br>                        onChangeText={email =&gt; this.setState({ email })}<br>                        autoCorrect={false}<br>                    /&gt;<br>                    &lt;TextInputField<br>                        label=‚ÄôPassword'<br>                        autoCorrect={false}<br>                        placeholder=‚ÄôYour Password'<br>                        secureTextEntry<br>                        value={this.state.password}<br>                        onChangeText={password =&gt; this.setState({ password })}<br>                    /&gt;<br>                    &lt;Text style={styles.errorTextStyle}&gt;{this.state.error}&lt;/Text&gt;<br>                    {this.renderButtonOrLoading()}<br>            &lt;/View&gt;<br>        );<br>    }<br>}</pre> <pre>export default SignInForm;</pre> <p>This is the simple contents of our <strong>style.js </strong>file, within our <em>SignInForm </em>folder. It‚Äôs pretty self-explanatory.</p> <pre>'use strict';<br>import React, {<br>  StyleSheet<br>} from 'react-native';</pre> <pre>const styles = StyleSheet.create({</pre> <pre>errorTextStyle: {<br>        color: '#E64A19',<br>        alignSelf: 'center',<br>        paddingTop: 10,<br>        paddingBottom: 10<br>    }<br>});</pre> <pre>export default styles;</pre> <p>Whilst we‚Äôre doing stylesheets, here‚Äôs the one that sits within our <em>component </em>folder. Again, no real point going over this as it‚Äôs fairly straightforward. Feel free to play around with it, make it your¬†own.</p> <pre>'use strict';<br>import React, {<br>  StyleSheet<br>} from 'react-native';</pre> <pre>const styles = StyleSheet.create({</pre> <pre>inputStyle: {<br>       paddingRight: 5,<br>       paddingLeft: 5,<br>       paddingBottom: 2,<br>       color: 'black',<br>       fontSize: 18,<br>       fontWeight: '200',<br>       flex: 1,<br>       height: 100,<br>       width: 300,<br>       borderColor: 'gray',<br>       borderWidth: 1,</pre> <pre>},<br>   containerStyle: {<br>       height: 45,<br>       flexDirection: 'column',<br>        alignItems: 'flex-start',<br>        width: '100%',<br>        borderColor: 'gray',<br>       borderBottomWidth: 1,<br>   }</pre> <pre>});</pre> <pre>export default styles;</pre> <p>The final part of the puzzle is to bring it all together in our <strong>App.js </strong>file. This is what the final result should resemble.</p> <pre>import React, { Component } from 'react';<br>import {<br>  AppRegistry,<br>  StyleSheet,<br>  Text,<br>  View<br>} from 'react-native';</pre> <pre>import Config from 'react-native-config';</pre> <pre>import {<br>   FIREBASE_API_KEY,<br>   AUTH_DOMAIN,<br>   DATABASE_URL,<br>   FIREBASE_PROJECT_ID,<br>   FIREBASE_STORAGE_BUCKET,<br>   MESSAGE_ID<br>} from 'react-native-dotenv';</pre> <pre>import * as firebase from 'firebase';</pre> <pre>import SignInForm from './app/SignInForm';</pre> <pre>export default class myapp extends Component {</pre> <pre>componentWillMount() {<br>        firebase.initializeApp({<br>            apiKey: FIREBASE_API_KEY,<br>            authDomain: AUTH_DOMAIN,<br>            databaseURL: DATABASE_URL,<br>            projectId: FIREBASE_PROJECT_ID,<br>            storageBucket: FIREBASE_STORAGE_BUCKET,<br>            messagingSenderId: MESSAGE_ID<br>        });<br>    }<br>  render() {<br>    return (<br>      &lt;View&gt;<br>       &lt;SignInForm /&gt;<br>      &lt;/View&gt;<br>    );<br>  }<br>}</pre> <pre>AppRegistry.registerComponent('myapp', () =&gt; myapp);</pre> <p>Now, barring no hiccups, run <strong>react-native run-ios </strong>or <strong>react-native run-android. </strong>I‚Äôll assume you‚Äôve either hooked up your phone to your laptop and enabled debugging or have a simulator setup and ready to go (that only applies for Android, iOS should just boot one up when you call the command).</p> <p>Now whack open your firebase console and hit the <strong>Authentication </strong>tab on the right. When signing in on the app and hitting the ‚ÄúSign In‚Äù button, your user should appear in the console, like¬†magic!</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*7S3h7wfAhrHd7SkCtXb_pQ.png"><figcaption>Your first (and hopefully not last)¬†user!</figcaption></figure><p>Boom! You‚Äôre done. Now, obviously, there‚Äôs plenty more to do, but you‚Äôve got the basics implemented. Next time we‚Äôll look at integrating social logins via Facebook/Google/Twitter and how to handle Navigation, once sign-in/sign-up has been completed.</p> <p>Thanks for reading, hit üíö if you like what you read and be sure to follow to keep up to date with future¬†posts.</p> <img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=3b233fff5b3f" width="1" height="1"><hr> <p><a href="https://blog.cloudboost.io/react-native-and-firebase-part-one-simple-authentication-3b233fff5b3f">React-Native and Firebase ‚Äî Part One Simple Authentication</a> was originally published in <a href="https://blog.cloudboost.io">CloudBoost</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p> </div> </div> <p style="text-align: center"><a class="waves-effect waves-light btn green darken-2" target="_blank" href="https://medium.com/@jameshamann/"><i class="material-icons right">library_books</i>Read more at Medium</a></p> <script type="text/javascript" src="/assets/js/jquery-3.2.1.min.js"></script> <script type="text/javascript" src="/assets/js/materialize.min.js"></script> <script src="/assets/js/init.js"></script> </body> <footer class="page-footer"> <div class="footer-copyright" style="padding-left: 30px"> <i class="material-icons" style="padding-right:5px">copyright</i><p>2017 Copyright James Hamann | All rights reserved</p> </div> </footer> </html>